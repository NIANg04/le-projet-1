<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">   
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <link rel="stylesheet" href="text.css"/>
   <script src="heure.js"></script>
</head>
<body onload = "afficheChaqueSecondeHeure()"> 
<header>
    <div class = wrapper>
      <h1> Affichage Temperature </h1>  
      <nav>
          <ul>
              <li>
                <span id= "date>"> </span> 
              </li>
          </ul>
      </nav>
      
    </div>
</header>
<section id="main-image">
    <div class =wrapper>
        
        <h2> <img src="images/soleil2.png">l'image du
            <br> <strong>temps d'Aujourd'hui</strong>
          <h2> <img src="images/nuage4.gif"></h2>  
             </h2>
             <div id="image"></div>
    </div>
</section>
<section id ="affichage temperature"> 
    <div class= wrapper>
    </div>
</section>
<footer>
    <h1> Temperature
         <br> <span id="tmp"></span> Â°c</h1>
       
</footer>
    <script>
       var socket = new WebSocket('ws://localhost:8081');// mettre l'address du serveur socket pour etablir la connexion
          socket.addEventListener("open",()=>console.log("you are connected"))
          socket.onmessage=function(event){// recuperer le message envoyer par le serveur
              //var message = JSON.parse(event.data);// convertir le tableau d'objet en fichier json
              console.log(event.data)
              document.getElementById('tmp').innerHTML=event.data
            };
              if(event.data<26){
              document.getElementsById("image").innerHTML='<img src="images/nuages.jpg" >' 
            
              }
              else{ 
                  document.getElementsById("image").innerHTML='<img src="images/images.jpeg" >' 
              }
         
              
    </script> 
   
    </body>
    </html>
